clear_except_breakpoints; close all;
load data/keystroke.mat

knnResults = run_online_dataset( ...
    ForgettingKnnClassifier(struct('beta', .2102, 'k', 5)), ...
    X, ...
    y, ...
    t, ...
    400 ...
);

batchSize = 200;
dataset.data = chunkmat(X, batchSize);
dataset.labels = chunkmat(y, batchSize);
use = [ones(batchSize, 1); zeros(length(y) - batchSize, 1)];
dataset.use = chunkmat(use, batchSize);

composeResults = run_compose( ...
    COMPOSE(KNNDensitySampler(struct('k', 3, 'p', .5)), LabelPropagator, struct('persistCoreSupports', 1)), ...
    dataset ...
);

binaryAccuracy = SCARGC_1NN(dataset, [], [], 4)';

